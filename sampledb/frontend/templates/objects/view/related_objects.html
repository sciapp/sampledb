{% if current_object_ref.is_local %}
  {% set object = related_object_by_object_ref.get(current_object_ref) %}
  {% set object_name = object.name | get_translated_text('–') if object is not none and object.name is not none else '–' %}
  {% set object_id = current_object_ref.object_id or '–' %}
  {% if in_export_data_modal %}<span class="data_export_object_wrapper"><input type="checkbox" title="{{ _('Include #%(object_id)s in Export', object_id=current_object_ref.object_id) }}" {% if show_related_objects %}name="data_export_object_{{ current_object_ref.object_id }}" id="data_export_object_{{ current_object_ref.object_id }}" data-object-id="{{ current_object_ref.object_id }}" {% else %}disabled="disabled"{% endif %} class="data_export_object data_export_object_{{ current_object_ref.object_id }}"><label for="data_export_object_{{ current_object_ref.object_id }}" class="fa fa-fw"><span class="sr-only">{{ _('Include #%(object_id)s in Export', object_id=current_object_ref.object_id) }}</span></label></span>{% endif %}
  <a href="{{ url_for('.object', object_id=current_object_ref.object_id) }}">{{ object_name }} &bullet; #{{ current_object_ref.object_id }}</a>
  {% if object is not none %}
    {{ import_information_symbol(object) }}
  {% endif %}
  {% if show_related_objects %}
  <ul>
    {% for current_object_ref in related_objects_subtrees[current_object_ref].referenced_objects %}
      {% set show_related_objects = current_object_ref not in object_refs_encountered %}
      {% if show_related_objects %}
        {% do object_refs_encountered.append(current_object_ref) %}
      {% endif %}
      <li>{% include "objects/view/related_objects_tree_toggle.html" %}<i class="fa fa-fw fa-arrow-left" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="{{ _('Referenced by the metadata of %(object_name)s (#%(object_id)s)', object_name=object_name, object_id=object_id) }}"></i>{% include "objects/view/related_objects.html" %}</li>
    {% endfor %}
    {% for current_object_ref in related_objects_subtrees[current_object_ref].referencing_objects %}
      {% set show_related_objects = current_object_ref not in object_refs_encountered %}
      {% if show_related_objects %}
        {% do object_refs_encountered.append(current_object_ref) %}
      {% endif %}
      <li>{% include "objects/view/related_objects_tree_toggle.html" %}<i class="fa fa-fw fa-arrow-right" aria-hidden="true" data-toggle="tooltip" data-placement="right" title="{{ _('References %(object_name)s (#%(object_id)s) in its metadata', object_name=object_name, object_id=object_id) }}"></i>{% include "objects/view/related_objects.html" %}</li>
    {% endfor %}
  </ul>
  {% endif %}
{% elif current_object_ref.component_uuid is not none %}
  {% if current_object_ref.component_uuid != config['FEDERATION_UUID'] %}
    {% set object_ref = FederationObjectRef(fed_id=current_object_ref.object_id, component_uuid=current_object_ref.component_uuid) %}
    #{{ current_object_ref.object_id }} @ {{ object_ref.component.get_name() }}
    {{ import_information_symbol(object_ref) }}
  {% else %}
    <a href="{{ url_for('frontend.object', object_id=current_object_ref.object_id) }}">#{{  current_object_ref.object_id }}</a>
  {% endif %}
{% else %}
  {% if current_object_ref.eln_object_url %}
    <a href="{{ current_object_ref.eln_object_url }}">
  {% endif %}
  {{ _('Object') }} #{{ current_object_ref.object_id }} @
  {% if not current_object_ref.eln_object_url %}
    <a href="{{ current_object_ref.eln_source_url }}">
  {% endif %}
  {{ current_object_ref.eln_source_url }}
  </a>
{% endif %}
