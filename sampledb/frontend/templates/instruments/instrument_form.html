{% extends "base.html" %}

{% block title %}Instrument â€” {{ service_name }}{% endblock %}

{% block stylesheets %}
  {{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-select.min.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-toggle.min.css') }}" />
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/bootstrap-select.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/bootstrap-toggle.min.js') }}"></script>
{% endblock %}

{% block content %}
  <form method="post">
  {{ instrument_form.hidden_tag() }}
    <div class="col-md-12">
      <div class="form-group {% if instrument_form.name.name in instrument_form.errors %}has-error{% endif %}">
        <label for="input-name" class="control-label">Name</label>
         <input type="text" class="form-control" id="input-name" placeholder="Name" name="{{ instrument_form.name.name }}" value="{{ instrument_form.name.data or instrument_form.name.default or '' }}">
      </div>
      <div class="form-group {% if instrument_form.description.name in instrument_form.errors %}has-error{% endif %}">
        <label for="input-description" class="control-label">Description</label>
        <textarea class="form-control" style="resize: vertical" rows="3" id="input-description" name="{{ instrument_form.description.name }}" placeholder="Description">{{ instrument_form.description.data or instrument_form.description.default or '' }}</textarea>
      </div>
      <div class="checkbox">
        <label for="input-markdown" style="font-weight:400">
          <input type="checkbox" id="input-markdown" name="{{ instrument_form.is_markdown.name }}" {% if instrument_form.is_markdown.data %}checked="checked"{% endif %}> Use Markdown syntax for Description
        </label>
      </div>
      <div class="form-group {% if instrument_form.notes.name in instrument_form.errors %}has-error{% endif %}">
        <label for="input-description" class="control-label">Instrument Scientist Notes</label>
        <textarea class="form-control" style="resize: vertical" rows="3" id="input-description" name="{{ instrument_form.notes.name }}" placeholder="Instrument Scientist Notes">{{ instrument_form.notes.data or instrument_form.notes.default or '' }}</textarea>
      </div>
      <div class="checkbox">
        <label for="input-notes-are-markdown" style="font-weight:400">
          <input type="checkbox" id="input-notes-are-markdown" name="{{ instrument_form.notes_are_markdown.name }}" {% if instrument_form.notes_are_markdown.data %}checked="checked"{% endif %}> Use Markdown syntax for Notes
        </label>
      </div>
      <div class="form-group">
        <label for="input-instrument_repsonsible_users" class="control-label">Instrument Scientists</label>
        <select name="{{ instrument_form.instrument_responsible_users.name }}" class="selectpicker form-control" multiple="multiple" data-live-search="true">
          {% for choice in instrument_form.instrument_responsible_users.choices %}
              <option value="{{ choice[0] }}" {% if (instrument_form.instrument_responsible_users.data and choice[0] in instrument_form.instrument_responsible_users.data) or (not instrument_form.instrument_responsible_users.data and instrument_form.instrument_responsible_users.default and choice[0] in instrument_form.instrument_responsible_users.default) %}selected="selected"{% endif %}>{{ choice[1] }} (#{{ choice[0] }})</option>
          {% endfor %}
        </select>
      </div>
      <div class="checkbox">
        <label for="input-users_can_create_log_entries">
          <input type="checkbox" id="input-users_can_create_log_entries" name="{{ instrument_form.users_can_create_log_entries.name }}" {% if instrument_form.users_can_create_log_entries.data %}checked="checked"{% endif %}> Users can create log entries
        </label>
      </div>
      <div class="checkbox">
        <label for="input-users_can_view_log_entries">
          <input type="checkbox" id="input-users_can_view_log_entries" name="{{ instrument_form.users_can_view_log_entries.name }}" {% if instrument_form.users_can_view_log_entries.data %}checked="checked"{% endif %}> Users can view log entries
        </label>
      </div>
    </div>
    <div class="form-group row clearfix" style="padding-right:0.75em">
      <div class="col-md-3 col-md-offset-6">
        <a href="{{ url_for('.instruments') }}" class="btn btn-default pull-right" style="width:20em">Cancel</a>
      </div>
      <div class="col-md-3">
        <button type="submit" name="action_submit" class="btn btn-primary pull-right" style="width:20em">{{ submit_text }}</button>
      </div>
    </div>
  </form>
{% endblock %}
